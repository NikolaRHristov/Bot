import{GatewayIntentBits as s}from"discord.js";import e from"../lib/env.js";const p=e.DISCORD_TOKENS.indexOf(",")!==-1?e.DISCORD_TOKENS.split(","):[e.DISCORD_TOKENS],c=[{token:"",events:new Map([["message",async t=>{console.log(t)}]]),options:{intents:[s.GuildMembers,s.GuildMessages,s.Guilds,s.MessageContent]},preflight:async t=>{const o=e.DISCORD_APPLICATION_ID;if(!e.DISCORD_PUBLIC_KEY)throw new Error("The DISCORD_TOKEN environment variable is required.");async function n(a){const i=await fetch(a,{headers:{"Content-Type":"application/json",Authorization:`Bot ${t}`},method:"PUT",body:JSON.stringify([AWW_COMMAND,INVITE_COMMAND])});if(i.ok)console.log("Registered all commands");else{console.error("Error registering commands");const l=await i.text();console.error(l)}return i}async function r(){await n(`https://discord.com/api/v10/applications/${o}/commands`)}await r()}}];var C=c.map((t,o)=>{const n=p[o];return n?t.token=n:console.log(`No token for client: ${o}`),t});export{C as default};
